<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OpenTrace Analytics - Setup Guide</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
            color: #333;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
        }

        .logo {
            font-size: 2em;
            font-weight: bold;
            color: #2563eb;
            margin-bottom: 10px;
        }

        .subtitle {
            color: #6b7280;
            font-size: 1.1em;
        }

        .section {
            margin: 30px 0;
        }

        .section h2 {
            color: #1f2937;
            border-bottom: 2px solid #e5e7eb;
            padding-bottom: 10px;
        }

        .code-block {
            background: #f8fafc;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #2563eb;
            margin: 15px 0;
            font-family: 'Monaco', 'Menlo', monospace;
        }

        .warning {
            background: #fef2f2;
            border-left-color: #ef4444;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
        }

        .success {
            background: #f0fdf4;
            border-left-color: #10b981;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
        }

        .btn {
            display: inline-block;
            background: #2563eb;
            color: white;
            padding: 10px 20px;
            text-decoration: none;
            border-radius: 6px;
            margin: 10px 0;
        }

        .btn:hover {
            background: #1d4ed8;
        }

        ul {
            padding-left: 20px;
        }

        li {
            margin: 8px 0;
        }

        .flag {
            font-size: 1.2em;
        }
    </style>
</head>

<body>
    <div class="header">
        <div class="logo">ðŸš€ OpenTrace Analytics</div>
        <div class="subtitle">Privacy-first, self-hosted analytics platform</div>
    </div>

    <div class="section">
        <h2>Quick Start</h2>
        <div class="success">
            <strong>What's New in v1.1.5 (Stable)</strong>
            <ul>
                <li>ðŸ“Š <strong>Advanced Reports</strong>: Build custom BI reports from event payloads.</li>
                <li>ðŸ’° <strong>Revenue Tracking</strong>: Native support for financial metrics aggregation.</li>
                <li>ðŸ‘¤ <strong>User Timeline</strong>: Granular chronological behavioral streams.</li>
                <li>ðŸ“¡ <strong>Live Explorer 2.0</strong>: Enhanced real-time event inspection.</li>
            </ul>
        </div>
        <p><strong>OpenTrace</strong> is a privacy-first, self-hosted analytics platform that gives you complete data
            sovereignty. Install in 2 minutes, no cookies, no tracking scripts from third parties.</p>

        <h3>Prerequisites</h3>
        <ul>
            <li>Docker & Docker Compose</li>
            <li>2GB RAM minimum</li>
            <li>Linux/Windows/MacOS</li>
        </ul>

        <h3>Installation</h3>
        <ol>
            <li><strong>Clone the repository:</strong>
                <div class="code-block">git clone https://github.com/your-username/opentrace.git<br>cd opentrace</div>
            </li>
            <li><strong>Run the installer:</strong>
                <div class="code-block">chmod +x install.sh<br>./install.sh</div>
            </li>
            <li><strong>Follow the wizard:</strong>
                <ul>
                    <li>Enter your domain name or IP address</li>
                    <li>The script generates secure passwords automatically</li>
                </ul>
            </li>
            <li><strong>Access your dashboard:</strong>
                <ul>
                    <li><strong>URL:</strong> <code>http://your-domain.com</code></li>
                    <li><strong>Login:</strong> <code>admin@opentrace.io</code></li>
                    <li><strong>Password:</strong> (shown in terminal - save it!)</li>
                </ul>
            </li>
        </ol>
    </div>

    <div class="section">
        <h2>First Steps</h2>

        <h3>1. Add Your First Website</h3>
        <ol>
            <li>Go to <strong>Resources</strong> â†’ <strong>Add Resource</strong></li>
            <li>Choose <strong>Website</strong> type</li>
            <li>Enter your website name</li>
            <li>Copy the generated tracking code</li>
        </ol>

        <h3>2. Integrate the Tracking Code</h3>
        <p>Add this code to your website's <code>&lt;head&gt;</code> section:</p>
        <div class="code-block">&lt;!-- OpenTrace Analytics --&gt;<br>&lt;script async
            src="http://your-domain.com/ot.js"<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data-id="ot_web_xyz123"<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data-host="http://your-domain.com/api/v1/collect"&gt;&lt;/script&gt;
        </div>

        <h3>3. View Analytics</h3>
        <ul>
            <li><strong>Dashboard:</strong> Real-time metrics for the last 24 hours</li>
            <li><strong>Analytics:</strong> Detailed reports with custom date ranges</li>
            <li><strong>Live:</strong> Real-time user activity map</li>
        </ul>
    </div>

    <div class="section">
        <h2>Configuration</h2>

        <h3>Environment Variables</h3>
        <p>Create a <code>.env</code> file for custom configuration:</p>
        <div class="code-block">
            DOMAIN_NAME=your-domain.com<br>POSTGRES_USER=admin<br>POSTGRES_PASSWORD=your_secure_password<br>POSTGRES_DB=teleboard<br>SECRET_KEY=your_secret_key<br>ADMIN_INITIAL_PASSWORD=your_admin_password
        </div>

        <h3>Advanced Setup</h3>
        <p>For production deployment with SSL:</p>
        <div class="code-block"># Install certbot for SSL<br>sudo apt install certbot<br><br># Generate SSL
            certificate<br>sudo certbot certonly --standalone -d your-domain.com<br><br># Update nginx config for SSL
        </div>
    </div>

    <div class="section">
        <h2>Docker Services</h2>
        <p>The application consists of 4 main services:</p>
        <ul>
            <li><strong>Frontend:</strong> Next.js dashboard (port 3000)</li>
            <li><strong>Backend:</strong> FastAPI server (port 8000)</li>
            <li><strong>PostgreSQL:</strong> Metadata storage</li>
            <li><strong>ClickHouse:</strong> Analytics data</li>
            <li><strong>Redis:</strong> Real-time caching</li>
        </ul>

        <h3>Manual Docker Commands</h3>
        <div class="code-block"># Development<br>docker-compose up -d<br><br># Production<br>docker-compose -f
            docker-compose.prod.yml up -d<br><br># Logs<br>docker-compose logs -f backend<br><br># Rebuild specific
            service<br>docker-compose up -d --build frontend</div>
    </div>

    <div class="section">
        <h2>Troubleshooting</h2>

        <h3>Common Issues</h3>
        <dl>
            <dt><strong>Dashboard not loading:</strong></dt>
            <dd>Check if all containers are running: <code>docker-compose ps</code></dd>

            <dt><strong>Analytics data not showing:</strong></dt>
            <dd>Check ClickHouse connection: <code>docker-compose logs clickhouse</code></dd>

            <dt><strong>Database connection errors:</strong></dt>
            <dd>Ensure PostgreSQL is running: <code>docker-compose logs postgres</code></dd>
        </dl>

        <h3>Logs Location</h3>
        <div class="code-block"># System logs<br>docker-compose logs backend<br><br># Database logs<br>docker-compose
            logs postgres<br><br># Analytics data logs<br>docker-compose logs clickhouse</div>
    </div>

    <div class="section">
        <h2>Additional Resources</h2>
        <ul>
            <li><a href="API.html">API Documentation</a></li>
            <li><a href="ARCHITECTURE.html">Architecture Overview</a></li>
            <li><a href="CONTRIBUTING.html">Contributing Guide</a></li>
            <li><a href="https://github.com/your-username/opentrace/issues">GitHub Issues</a></li>
        </ul>
    </div>

    <div class="section">
        <h2>Support</h2>
        <ul>
            <li><strong>GitHub Issues:</strong> For bugs and feature requests</li>
            <li><strong>Discussions:</strong> For questions and community support</li>
            <li><strong>Email:</strong> del4pp.dev@proton.me (future)</li>
        </ul>
    </div>

    <div
        style="text-align: center; margin-top: 40px; padding-top: 20px; border-top: 1px solid #e5e7eb; color: #6b7280;">
        <strong>OpenTrace Analytics v1.1.5</strong> - Privacy-first analytics platform
    </div>
</body>

</html>